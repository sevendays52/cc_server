<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CHZZK VOD Collector</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="header-inner">
      <h1>CHZZK VOD Collector</h1>
      <nav>
        <button class="tab active" data-tab="streamers">Streamer IDs</button>
        <button class="tab" data-tab="data">Collected Data</button>
        <button class="tab" data-tab="settings">Settings</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Streamer ID Management -->
    <section id="section-streamers" class="section active">
      <div class="input-row">
        <input type="text" id="newChannelId" placeholder="Channel ID (e.g. a9a343510e132ea3...)">
        <input type="text" id="newChannelName" placeholder="Display Name (optional)">
        <button class="btn btn-green" id="btnAddStreamer">Add</button>
      </div>
      <div class="info-box">
        <p>Channel ID is found in the CHZZK channel URL:<br>
        <code>https://chzzk.naver.com/live/<strong>{channelId}</strong></code></p>
      </div>
      <div id="streamerList" class="streamer-list">
        <p class="empty-msg">Loading...</p>
      </div>
    </section>

    <!-- Collected Data Viewer -->
    <section id="section-data" class="section">
      <div class="data-header">
        <h2>Collected Streamer Data</h2>
        <button class="btn btn-small" id="btnRefreshData">Refresh</button>
      </div>
      <div id="dataLastUpdate" class="last-update"></div>
      <div id="dataCards" class="data-cards">
        <p class="empty-msg">Loading...</p>
      </div>
    </section>

    <!-- GitHub Settings (Frontend) -->
    <section id="section-settings" class="section">
      <div class="card">
        <h2>GitHub API Settings</h2>
        <p class="desc">These credentials are stored in your browser (localStorage) and used to update streamer_ids.json directly via GitHub API.</p>
        <div class="form-group">
          <label>GitHub Owner (username or org)</label>
          <input type="text" id="ghOwner" placeholder="your-username">
        </div>
        <div class="form-group">
          <label>Repository Name</label>
          <input type="text" id="ghRepo" placeholder="your-repo">
        </div>
        <div class="form-group">
          <label>Personal Access Token</label>
          <input type="password" id="ghToken" placeholder="ghp_xxxxxxxxxxxx">
        </div>
        <div class="form-group">
          <label>Branch</label>
          <input type="text" id="ghBranch" value="main">
        </div>
        <button class="btn btn-green" id="btnSaveGhSettings">Save Settings</button>
        <div id="settingsMsg" class="msg"></div>
      </div>
    </section>
  </main>

  <script src="js/api.js"></script>
  <script src="js/viewer.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
